<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>closure type</title>
</head>
<body>
<button id="excute">点击我执行命令</button>
<button id="undo">点击我执行命令</button>
	<script>
	var Tv = {
		open: function () {
			console.log("打开电视机");
		},
		close: function () {
			console.log("关上电视机");
		}
	};
	var OpenTvCommand = function (receiver) {
		this.receiver = receiver;
	};	

	OpenTvCommand.prototype.excute = function () {
		this.receiver.open();
	};

	OpenTvCommand.prototype.undo = function () {
		this.receiver.close();
	};
	var setCommand = function (command) {
		document.getElementById('excute').onclick = function (){
			command.excute();
		};

		document.getElementById('undo').onclick = function (){
			command.undo();
		}
	};

	setCommand(new OpenTvCommand(Tv))
	</script>
</body>
</html>